{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/AlertBasket.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","GoodsItem","props","name","description","price","full_background","addToBasket","Function","prototype","src","alt","onClick","GoodList","prop","goods","length","map","item","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incBasketQuantity","decBasketQuantity","BasketList","order","totalPrice","reduce","sum","AlertBasket","removeAlertName","useEffect","timeId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","featured","items","itemIndex","findIndex","orderItem","newItems","newOrder","idx","itemId","filter","el","console","log","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.23298149.chunk.js","sourcesContent":["function Header() {\r\n  return <nav className=\"blue-grey darken-3\">\r\n  <div className=\"nav-wrapper\">\r\n    <a href=\"https://github.com/Prozorog/react-shop\" className=\"brand-logo\">React Shop</a>\r\n    <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n      <li><a href=\"!#\">Repository</a></li>\r\n    </ul>\r\n  </div>\r\n</nav>\r\n}\r\n\r\nexport {Header}","\r\nfunction Footer () {\r\n  return   <footer className=\"page-footer #37474f blue-grey darken-2\">\r\n  <div className=\"footer-copyright\">\r\n    <div className=\"container\">\r\n    @ {new Date().getFullYear()} Copyright Text\r\n    <a className=\"grey-text text-lighten-4 right\" href=\"#!\">More Links</a>\r\n    </div>\r\n  </div>\r\n</footer>\r\n}\r\n\r\nexport {Footer}","function Preloader () {\r\n  return <div className=\"progress\">\r\n  <div className=\"indeterminate\"></div>\r\n</div>\r\n}\r\n\r\nexport {Preloader}","function GoodsItem(props) {\r\n  const { id, name, description, price, full_background, addToBasket = Function.prototype } = props;\r\n\r\n  return (\r\n    <div id={id} className=\"card\">\r\n      <div className=\"card-image waves-effect waves-block waves-light\">\r\n        <img src={full_background} alt={name} />\r\n      </div>\r\n      <div className=\"card-content\">\r\n      <span className=\"card-title\">{name}</span>\r\n        <p>{description}</p>\r\n      </div>\r\n      <div className=\"card-action\">\r\n        <button className=\"btn\" onClick={() => addToBasket({id, name, price})}>Купить</button>\r\n        <span className=\"price\">{price} руб.</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { GoodsItem };\r\n","import {GoodsItem} from \"./GoodsItem\"\r\n\r\nfunction GoodList (prop) {\r\n  const {goods = [], addToBasket = Function.prototype} = prop;\r\n\r\n  if(!goods.length) {\r\n    return <h1>Nothing here</h1>\r\n  }\r\n\r\n  return (\r\n    <div className=\"goods\">\r\n     {goods.map(item => {\r\n       return <GoodsItem  key={item.id} {...item} addToBasket={addToBasket}/>\r\n     })}\r\n  </div>\r\n  )\r\n}\r\n\r\nexport {GoodList}\r\n\r\n","function Cart(props) {\r\n  const { quantity = 0, handleBasketShow = Function.prototype } = props;\r\n\r\n  return (\r\n    <div\r\n      className=\"cart  blue darken-3 white-text \"\r\n      onClick={handleBasketShow}\r\n    >\r\n      <i\r\n        className=\"material-icons\r\n\"\r\n      >\r\n        shopping_cart\r\n      </i>\r\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Cart };\r\n","function BasketItem(props) {\r\n  const {\r\n    id,\r\n    price,\r\n    quantity,\r\n    name,\r\n    removeFromBasket = Function.prototype,\r\n    incBasketQuantity = Function.prototype,\r\n    decBasketQuantity = Function.prototype,\r\n  } = props;\r\n\r\n  return (\r\n    <li className=\"collection-item\">\r\n      {name}{\" \"}\r\n      <i\r\n        className=\"material-icons basket-quantity \"\r\n        onClick={() => decBasketQuantity(id)}\r\n      >\r\n        remove\r\n      </i>{\" \"}\r\n      x{quantity}{\" \"}\r\n      <i\r\n        className=\"material-icons basket-quantity \"\r\n        onClick={() => incBasketQuantity(id)}\r\n      >\r\n        add\r\n      </i>{\" \"}\r\n      = {price * quantity}\r\n      <span className=\"secondary-content basket-btn\">\r\n        <i className=\"material-icons tiny\" onClick={() => removeFromBasket(id)}>\r\n          close\r\n        </i>\r\n      </span>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport { BasketItem };\r\n","import { BasketItem } from \"./BasketItem\";\r\n\r\nfunction BasketList(props) {\r\n  const { \r\n    order = [], \r\n    handleBasketShow = Function.prototype, \r\n    removeFromBasket = Function.prototype,\r\n    incBasketQuantity =Function.prototype,\r\n    decBasketQuantity =Function.prototype,\r\n  } = props;\r\n\r\n  const totalPrice = order.reduce((sum, item) => {\r\n    return sum + item.price * item.quantity\r\n  }, 0)\r\n\r\n  return (\r\n    <ul className=\"collection basket-list\">\r\n      <li className=\"collection-item active blue darken-3 \">Корзина</li>\r\n      {order.length ? (\r\n        order.map((item) => <BasketItem key={item.id} {...item} removeFromBasket={removeFromBasket} incBasketQuantity={incBasketQuantity} decBasketQuantity={decBasketQuantity} />)\r\n      ) : (\r\n        <li className=\"collection-item\">Корзтга пустая</li>\r\n      )}\r\n      <li className=\"collection-item active blue darken-3 basket-collection\">\r\n       <p> Общая стоимость: {totalPrice}</p>\r\n      <button className=\"btn basket-btn\">Оформить</button>\r\n      </li>\r\n\r\n      <i\r\n        className=\"material-icons tiny basket-close \"\r\n        onClick={handleBasketShow}\r\n      >\r\n        close\r\n      </i>\r\n      {/* <div className=\"basket-btn\">\r\n      <button className=\"btn\">Оформить</button>\r\n      </div> */}\r\n    </ul>\r\n    \r\n  );\r\n}\r\n\r\nexport { BasketList };\r\n","import React, { useEffect} from \"react\";\r\n\r\nfunction AlertBasket (props) {\r\n  const {name = \"\", removeAlertName = Function.prototype} = props;\r\n\r\n  useEffect(() => {\r\n    const timeId = setTimeout(removeAlertName, 2000)\r\n\r\n    return () => {\r\n      clearTimeout(timeId)\r\n    }\r\n\r\n    // eslint-disable-next-line \r\n  }, [name])\r\n\r\n  return ( \r\n    <div id=\"toast-container\">\r\n      <div className=\"toast\">\r\n        {name} добавлен в корзину\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport {AlertBasket}","import React, { useEffect, useState } from \"react\";\r\n// *components\r\nimport { Preloader } from \"./Preloader\";\r\nimport { GoodList } from \"./GoodsList\";\r\nimport { Cart } from \"./Cart\";\r\nimport {BasketList} from \"./BasketList\"\r\nimport {AlertBasket} from \"./AlertBasket\"\r\n// *api key\r\nimport { API_URL, API_KEY } from \"../config\";\r\n\r\nfunction Shop() {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isBasketShow, setBasketShow] = useState(false)\r\n  const [alertName, setAlertName] = useState('')\r\n\r\n  const addToBasket = (items) => {\r\n    const itemIndex = order.findIndex(orderItem => orderItem.id === items.id);\r\n\r\n    if (itemIndex < 0) {\r\n      const newItems = {\r\n        ...items,\r\n        quantity: 1,\r\n      };\r\n      setOrder([...order, newItems]);\r\n    } else {\r\n      const newOrder = order.map((orderItem, idx) => {\r\n        if(idx === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          }\r\n        } else {\r\n          return orderItem\r\n        }\r\n      })\r\n      setOrder(newOrder)\r\n    }\r\n    setAlertName(items.name)\r\n  };\r\n\r\n  const handleBasketShow = () => {\r\n    setBasketShow(!isBasketShow);\r\n  };\r\n\r\n  const removeFromBasket = (itemId) => {\r\n    const newOrder = order.filter(el => el.id !== itemId);\r\n    setOrder(newOrder)\r\n  }\r\n\r\n  const incBasketQuantity = (itemId) => {\r\n    console.log(itemId);\r\n    const newOrder = order.map(el => {\r\n      if(el.id === itemId) {\r\n        const newQuantity = el.quantity + 1\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity\r\n        }\r\n      } else {\r\n        return el\r\n      }\r\n    })\r\n\r\n    setOrder(newOrder)\r\n  } \r\n\r\n  const removeAlertName = () => {\r\n    return setAlertName('')\r\n  }\r\n\r\n  const decBasketQuantity = (itemId) => {\r\n    console.log(itemId);\r\n    const newOrder = order.map(el => {\r\n      if(el.id === itemId) {\r\n        const newQuantity = el.quantity - 1\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity >= 0 ? newQuantity : 0\r\n        }\r\n      } else {\r\n        return el\r\n      }\r\n    })\r\n\r\n    setOrder(newOrder)\r\n  } \r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, {\r\n      headers: {\r\n        Authorization: API_KEY,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        data.featured && setGoods(data.featured);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"container content\">\r\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n      {loading ? <Preloader /> : <GoodList goods={goods} addToBasket={addToBasket} />}\r\n      {isBasketShow && <BasketList order={order} handleBasketShow={handleBasketShow} removeFromBasket={removeFromBasket} decBasketQuantity={decBasketQuantity} incBasketQuantity={incBasketQuantity} />}\r\n      {alertName && <AlertBasket name={alertName} removeAlertName={removeAlertName}/>}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport { Shop };\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru'\r\n\r\nexport {\r\n  API_KEY,\r\n  API_URL,\r\n}","import {Header} from './components/Header'\nimport {Footer} from './components/Footer'\nimport {Shop} from './components/Shop'\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}